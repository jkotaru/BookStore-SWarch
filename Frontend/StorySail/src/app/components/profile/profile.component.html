<div class="user-account-container" *ngIf="user">
  <h2 class="user-account-header">User Account Details</h2>
  <button *ngIf="isAdmin" routerLink="/admin" class="admin-button">Admin Dashboard</button>
  <ng-container *ngIf="!editMode; else editModeTemplate">
    <ul class="user-account-list">
      <li><strong>Username:</strong> {{ user.userName }}</li>
      <li><strong >Password:</strong> *********</li>
      <li><strong>First Name:</strong> {{ user.firstName }}</li>
      <li><strong>Last Name:</strong> {{ user.lastName }}</li>
      <li><strong>Email:</strong> {{ user.email }}</li>
      <li><strong>Phone Number:</strong> {{ user.phoneNumber }}</li>
      <li><strong>Address:</strong> {{ user.address }}</li>
      <li><strong>Role:</strong> {{ user.role }}</li>
    </ul>
    <div class="user-account-buttons">
      <button class="primary" (click)="toggleEditMode()">Edit Details</button>
      <button class="secondary" (click)="logout()">Logout</button>
    </div>
  </ng-container>
  <ng-template #editModeTemplate>
    <ul class="user-account-list">
      <li>Username: {{ user.userName }}</li>
      <li>Password: <div class="password-input-container">
        <input class="user-account-input" [type]="showPassword ? 'text' : 'password'" [(ngModel)]="user.password">
        <button class="password-toggle" (click)="togglePasswordVisibility()">
            <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
        </button>
    </div></li>
      <li>First Name: <input class="user-account-input" type="text" [(ngModel)]="user.firstName"></li>
      <li>Last Name: <input class="user-account-input" type="text" [(ngModel)]="user.lastName"></li>
      <li>Email: <input class="user-account-input" type="email" [(ngModel)]="user.email"></li>
      <li>Phone Number: <input class="user-account-input" type="tel" [(ngModel)]="user.phoneNumber"></li>
      <li>Address: <input class="user-account-input" type="text" [(ngModel)]="user.address"></li>
    </ul>
    <div class="user-account-buttons">
      <button class="primary" (click)="updateUserDetails()">Confirm</button>
      <button class="secondary" (click)="toggleEditMode()">Cancel</button>
    </div>
  </ng-template>
</div>